{% assign news_by_year = site.news | sort: "date" | reverse | slice: 0, include.limit | group_by_exp: "item", "item.date | date: '%Y'" -%}

<div class="academic-card">
    <div class="card-body">
        <h6 class="section-title">
            <i class="fas fa-rss"></i> News
        </h6>
        
        <div class="news-scroll-wrapper" style="max-height: 300px; overflow-y: auto; padding-right: 5px;">
            {% for year in news_by_year %}
            <div class="row mb-3">
                <div class="col-auto">
                    <span class="badge badge-light border text-muted">{{ year.name }}</span>
                </div>
                <div class="col pl-0">
                    <ul class="list-unstyled mb-0">
                        {% for item in year.items %}
                        <li class="mb-2 d-flex align-items-baseline">
                            <i class="fas fa-caret-right text-muted mr-2 small"></i>
                            <div>
                                <span class="text-dark small">{{ item.title }}</span>
                                <small class="text-muted ml-2 text-nowrap">({{ item.date | date: "%b %d" }})</small>
                            </div>
                        </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

<style>
    /* Webkit scrollbar beautification */
    .news-scroll-wrapper::-webkit-scrollbar { width: 4px; }
    .news-scroll-wrapper::-webkit-scrollbar-track { background: transparent; }
    .news-scroll-wrapper::-webkit-scrollbar-thumb { background: #ddd; border-radius: 2px; }
    .news-scroll-wrapper::-webkit-scrollbar-thumb:hover { background: #bbb; }
</style>